<?xml version="1.0" encoding="UTF-8" standalone="yes"?><letter><code>PzSystemJobLetter</code><enabled desc="Yes">true</enabled><name>Pz System Job Letter</name><description>System Job Letter</description><channel>EMAIL</channel><retention_period></retention_period><customized desc="No">false</customized><patron_facing desc="No">false</patron_facing><updated_by/><labels link="https://api-eu.hosted.exlibrisgroup.com/almaws/v1/conf/code-tables/PzSystemJobLetter">PzSystemJobLetter</labels><xsl>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

  &lt;xsl:include href="header.xsl" /&gt;
  &lt;xsl:include href="senderReceiver.xsl" /&gt;
  &lt;xsl:include href="mailReason.xsl" /&gt;
  &lt;xsl:include href="footer.xsl" /&gt;
  &lt;xsl:include href="style.xsl" /&gt;
  &lt;xsl:include href="recordTitle.xsl" /&gt;

  &lt;xsl:template match="/"&gt;
	&lt;html&gt;
	  &lt;head&gt;
	    &lt;xsl:call-template name="generalStyle" /&gt;
	  &lt;/head&gt;

	  &lt;body&gt;
	    &lt;xsl:attribute name="style"&gt;
		  &lt;xsl:call-template name="bodyStyleCss" /&gt;
	    &lt;/xsl:attribute&gt;

		&lt;br /&gt;

		&lt;xsl:call-template name="toWhomIsConcerned" /&gt;
		&lt;table cellspacing="0" cellpadding="5" border="0"&gt;
		  &lt;tr&gt;
		    &lt;td&gt;
				&lt;xsl:for-each select="notification_data/system_job_report_container"&gt;

					&lt;h1&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/systemjobs.report/value"/&gt;&lt;/h1&gt;
					&lt;br/&gt;
					&lt;table cellpadding="5" class="listing"&gt;
						&lt;xsl:attribute name="style"&gt;
							&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
						&lt;/xsl:attribute&gt;

						&lt;xsl:choose&gt;
							&lt;xsl:when test="'true'=report_innovation"&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.name/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/name"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.createdBy/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/creator"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.processId/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/id"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.totalRunTime"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/total_running_time"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.startedOn/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/starting_time"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.finishedOn/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/ending_time"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
							&lt;/xsl:when&gt;
							&lt;xsl:otherwise&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.processId/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/id"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.name/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/name"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.startedOn/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/starting_time"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.finishedOn/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/ending_time"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.totalRunTime"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/total_running_time"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.createdBy/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/creator"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.status/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/status"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.statusDate/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/status_time"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
								&lt;tr&gt;
									&lt;td&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.recordsProcessed/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/total_number"/&gt;&lt;/td&gt;
									&lt;th align="right"&gt;&lt;xsl:value-of select="translated_strings_map/map_entry/c.systemjobs.report.recordsFailed/value"/&gt; &lt;/th&gt;
									&lt;td&gt;&lt;xsl:value-of select="report_header/number_failed"/&gt;&lt;/td&gt;
								&lt;/tr&gt;
							&lt;/xsl:otherwise&gt;
						&lt;/xsl:choose&gt;
					&lt;/table&gt;

					&lt;br/&gt;&lt;br/&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=job_parameters_section_visible"&gt;
							&lt;xsl:for-each select="report_parameters"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.schedule.jobParametersSection/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string_list"&gt;
										&lt;tr&gt;
											&lt;td align="left" width="5%"&gt;&lt;/td&gt;
											&lt;th align="left" width="50%"&gt;&lt;xsl:value-of select="string[1]"/&gt;&lt;/th&gt;
											&lt;td align="left" width="30%"&gt;&lt;xsl:value-of select="string[2]"/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="event_links_label/string"&gt;
							&lt;xsl:for-each select="event_links_label"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.schedule.jobEvents/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string"&gt;
										&lt;tr&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;td width="30%"&gt;&lt;xsl:value-of select="."/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=entities_section_visible"&gt;
							&lt;xsl:for-each select="report_entities"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.countersSection/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string_list"&gt;
										&lt;tr&gt;
											&lt;td align="left" width="5%"&gt;&lt;/td&gt;
											&lt;th align="left" width="50%"&gt;&lt;xsl:value-of select="string[1]"/&gt;&lt;/th&gt;
											&lt;td align="left" width="30%"&gt;&lt;xsl:value-of select="string[2]"/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=statistics_section_visible"&gt;
							&lt;xsl:for-each select="report_statistics"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.statisticsSection/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string_list"&gt;
										&lt;tr&gt;
											&lt;td align="left" width="5%"&gt;&lt;/td&gt;
											&lt;th align="left" width="50%"&gt;&lt;xsl:value-of select="string[1]"/&gt;&lt;/th&gt;
											&lt;td align="left" width="30%"&gt;&lt;xsl:value-of select="string[2]"/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=errors_section_visible"&gt;
							&lt;xsl:for-each select="report_errors"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.errorsSection/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string_list"&gt;
										&lt;tr&gt;
											&lt;td align="left" width="5%"&gt;&lt;/td&gt;
											&lt;th align="left" width="50%"&gt;&lt;xsl:value-of select="string[1]"/&gt;&lt;/th&gt;
											&lt;td align="left" width="30%"&gt;&lt;xsl:value-of select="string[2]"/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=report_table_visible"&gt;
							&lt;xsl:for-each select="report_table"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.reportTable/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;tr&gt;
										&lt;xsl:for-each select="column_names"&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;xsl:for-each select="string"&gt;
												&lt;th&gt;&lt;xsl:value-of select="."/&gt;&lt;/th&gt;
											&lt;/xsl:for-each&gt;
										&lt;/xsl:for-each&gt;
									&lt;/tr&gt;
									&lt;tr&gt;&lt;/tr&gt;
									&lt;xsl:for-each select="rows"&gt;
										&lt;xsl:for-each select="string_list"&gt;
											&lt;tr&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;xsl:for-each select="string"&gt;
													&lt;td&gt;&lt;xsl:value-of select="."/&gt;&lt;/td&gt;
											&lt;/xsl:for-each&gt;
											&lt;/tr&gt;
										&lt;/xsl:for-each&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=report_table_secondary_visible"&gt;
							&lt;xsl:for-each select="report_table_secondary"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.reportTable/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;tr&gt;
										&lt;xsl:for-each select="column_names"&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;xsl:for-each select="string"&gt;
												&lt;th&gt;&lt;xsl:value-of select="."/&gt;&lt;/th&gt;
											&lt;/xsl:for-each&gt;
										&lt;/xsl:for-each&gt;
									&lt;/tr&gt;
									&lt;tr&gt;&lt;/tr&gt;
									&lt;xsl:for-each select="rows"&gt;
										&lt;xsl:for-each select="string_list"&gt;
											&lt;tr&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;xsl:for-each select="string"&gt;
													&lt;td&gt;&lt;xsl:value-of select="."/&gt;&lt;/td&gt;
											&lt;/xsl:for-each&gt;
											&lt;/tr&gt;
										&lt;/xsl:for-each&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=report_table_third_visible"&gt;
							&lt;xsl:for-each select="report_table_third"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.reportTable/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;tr&gt;
										&lt;xsl:for-each select="column_names"&gt;
											&lt;td width="5%"&gt;&lt;/td&gt;
											&lt;xsl:for-each select="string"&gt;
												&lt;th&gt;&lt;xsl:value-of select="."/&gt;&lt;/th&gt;
											&lt;/xsl:for-each&gt;
										&lt;/xsl:for-each&gt;
									&lt;/tr&gt;
									&lt;tr&gt;&lt;/tr&gt;
									&lt;xsl:for-each select="rows"&gt;
										&lt;xsl:for-each select="string_list"&gt;
											&lt;tr&gt;
												&lt;td width="5%"&gt;&lt;/td&gt;
												&lt;xsl:for-each select="string"&gt;
													&lt;td&gt;&lt;xsl:value-of select="."/&gt;&lt;/td&gt;
												&lt;/xsl:for-each&gt;
											&lt;/tr&gt;
										&lt;/xsl:for-each&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=report_total_results_summary_visible"&gt;
							&lt;xsl:for-each select="report_total_results_summary"&gt;
								&lt;h2&gt;&lt;xsl:value-of select="../translated_strings_map/map_entry/c.systemjobs.report.totalResultsSummaryTable/value"/&gt;&lt;/h2&gt;
								&lt;br/&gt;
								&lt;table cellpadding="5" class="listing"&gt;
									&lt;xsl:attribute name="style"&gt;
										&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
									&lt;/xsl:attribute&gt;
									&lt;xsl:for-each select="string_list"&gt;
										&lt;tr&gt;
											&lt;td align="left" width="5%"&gt;&lt;/td&gt;
											&lt;th align="left" width="50%"&gt;&lt;xsl:value-of select="string[1]"/&gt;&lt;/th&gt;
											&lt;td align="left" width="30%"&gt;&lt;xsl:value-of select="string[2]"/&gt;&lt;/td&gt;
										&lt;/tr&gt;
									&lt;/xsl:for-each&gt;
								&lt;/table&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;

					&lt;xsl:choose&gt;
						&lt;xsl:when test="'true'=many_report_tables_visible"&gt;
							&lt;xsl:for-each select="many_report_tables"&gt;
								&lt;xsl:for-each select="report_table"&gt;
									&lt;br/&gt;
									&lt;h2&gt;&lt;xsl:value-of select="name"/&gt;&lt;/h2&gt;
									&lt;br/&gt;
									&lt;table cellpadding="5" class="listing"&gt;
										&lt;xsl:attribute name="style"&gt;
											&lt;xsl:call-template name="mainTableStyleCss" /&gt; &lt;!-- style.xsl --&gt;
										&lt;/xsl:attribute&gt;
										&lt;tr&gt;
											&lt;xsl:for-each select="column_names"&gt;
												&lt;td width="5%"&gt;&lt;/td&gt;
												&lt;xsl:for-each select="string"&gt;
													&lt;th&gt;&lt;xsl:value-of select="."/&gt;&lt;/th&gt;
												&lt;/xsl:for-each&gt;
											&lt;/xsl:for-each&gt;
										&lt;/tr&gt;
										&lt;tr&gt;&lt;/tr&gt;
										&lt;xsl:for-each select="rows"&gt;
											&lt;xsl:for-each select="string_list"&gt;
												&lt;tr&gt;
													&lt;td width="5%"&gt;&lt;/td&gt;
													&lt;xsl:for-each select="string"&gt;
														&lt;td&gt;&lt;xsl:value-of select="."/&gt;&lt;/td&gt;
													&lt;/xsl:for-each&gt;
												&lt;/tr&gt;
											&lt;/xsl:for-each&gt;
										&lt;/xsl:for-each&gt;
									&lt;/table&gt;
								&lt;/xsl:for-each&gt;
							&lt;/xsl:for-each&gt;
							&lt;br/&gt;&lt;br/&gt;
						&lt;/xsl:when&gt;
					&lt;/xsl:choose&gt;
				&lt;/xsl:for-each&gt;
			&lt;/td&gt;
		  &lt;/tr&gt;
		&lt;/table&gt;

		&lt;br /&gt;

		&lt;table&gt;
		  &lt;tr&gt;&lt;td&gt;@@sincerely@@&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;

	  &lt;/body&gt;
	&lt;/html&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</xsl></letter>