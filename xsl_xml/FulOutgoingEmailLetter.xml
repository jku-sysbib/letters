<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<letter>
	<code>FulOutgoingEmailLetter</code>
	<enabled desc="Yes">true</enabled>
	<name>Ful Outgoing Email Letter</name>
	<description>Outgoing Email Letter</description>
	<channel>EMAIL</channel>
	<retention_period></retention_period>
	<customized desc="Yes">true</customized>
	<patron_facing desc="Yes">true</patron_facing>
	<updated_by>exl_api</updated_by>
	<update_date>
		2023-01-16Z</update_date>
	<labels link="https://api-eu.hosted.exlibrisgroup.com/almaws/v1/conf/code-tables/FulOutgoingEmailLetter">FulOutgoingEmailLetter</labels>
	<xsl>&lt;?xml version="1.0" encoding="utf-8"?&gt; <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
			<xsl:include href="header.xsl" />
			<xsl:include href="senderReceiver.xsl" />
			<xsl:include href="mailReason.xsl" />
			<xsl:include href="footer.xsl" />
			<xsl:include href="style.xsl" />
			<xsl:include href="recordTitle.xsl" />
			<xsl:template match="/">
				<html>
					<xsl:if test="notification_data/languages/string">
						<xsl:attribute name="lang">
							<xsl:value-of select="notification_data/languages/string" />
						</xsl:attribute>
					</xsl:if>

					<head>
						<title>
							<xsl:value-of select="notification_data/general_data/subject" />
						</title>

						<xsl:call-template name="generalStyle" />
					</head>
					<body>
						<xsl:attribute name="style">
							<xsl:call-template name="bodyStyleCss" />
							<!-- style.xsl -->
						</xsl:attribute>
						<xsl:call-template name="head" />
						<!-- header.xsl -->
						<!-- HW: nicht anzeigen da immer per eMail verschickt. xsl:call-template name="senderReceiver" /--> <!-- SenderReceiver.xsl -->

						<table role='presentation' cellspacing="0" cellpadding="5" border="0">
							<tr>
								<td>

									<h3>@@header@@</h3>

								</td>
							</tr>
						</table>

						<div class="messageArea">
							<div class="messageBody">
								<table role='presentation' cellspacing="0" cellpadding="5" border="0">
									<xsl:choose>
										<xsl:when test="notification_data/request/needed_by !=''">
											<tr>
												<td>
													<strong>@@requested_by@@: </strong>
													<xsl:value-of select="notification_data/request/needed_by" />
												</td>

											</tr>
										</xsl:when>
										<xsl:otherwise>
											<tr>
												<td>
													<strong>@@requested@@: </strong>

												</td>

											</tr>
										</xsl:otherwise>
									</xsl:choose>
								</table>
								<table role='presentation' cellspacing="0" cellpadding="5" border="0">

									<xsl:attribute name="style">
										<xsl:call-template name="listStyleCss" />
										<!-- style.xsl -->
									</xsl:attribute>

									<tr>
										<td>
											<strong> @@format@@: </strong>
											<xsl:value-of select="notification_data/request/display/material_type" />
											<!-- recordTitle.xsl -->
										</td>
									</tr>
									<xsl:if test="notification_data/request/display/title !=''">
										<tr>
											<td>
												<strong> @@title@@: </strong>
												<xsl:value-of select="notification_data/request/display/title" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/request/display/chapter !=''">
										<tr>
											<td>
												<strong> @@chapter@@: </strong>
												<xsl:value-of select="notification_data/request/display/chapter" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/request/display/autho_initials !=''">
										<tr>
											<td>
												<strong> @@author@@: </strong>
												<xsl:value-of select="notification_data/request/display/author" />
											</td>
										</tr>
									</xsl:if>
									<tr>
										<td>
											<hr />

											<xsl:call-template name="author_initials">
												<xsl:with-param name="beistrich">false</xsl:with-param>
											</xsl:call-template>
											<hr />

											<!-- recordTitle.xsl -->
										</td>
									</tr>
									<xsl:if test="notification_data/request/display/call_number !=''">
										<tr>
											<td>
												<strong> @@call_number@@: </strong>
												<xsl:value-of select="notification_data/request/display/call_number" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/request/display/source !=''">
										<tr>
											<td>
												<strong> @@source@@: </strong>
												<xsl:value-of select="notification_data/request/display/source" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/request/display/doi !=''">
										<tr>
											<td>
												<strong>
													@@doi@@: </strong>
												<xsl:value-of select="notification_data/request/display/doi" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<!--HW
									PMID soll nicht angezeigt werden. Wofür ist das überhaupt>
		<xsl:if test="notification_data/request/display/pmid !=''">
		<tr>
		<td>
		<strong> @@pmid@@: </strong>
		<xsl:value-of select="notification_data/request/display/pmid" />
		</td>
		</tr>
		</xsl:if-->
									<xsl:if test="notification_data/request/display/note !=''">
										<tr>
											<td>
												<strong>
													@@note@@: </strong>
												<xsl:value-of select="notification_data/request/display/note" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/request/note !=''">
										<tr>
											<td>
												<strong> @@request_note@@: </strong>
												<xsl:value-of select="notification_data/request/note" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>

									<tr>
										<td>
											<strong>
												@@date@@: </strong>
											<xsl:value-of select="notification_data/general_data/current_date" />
											<!-- recordTitle.xsl -->
										</td>
									</tr>
									<xsl:if test="notification_data/request/external_request_id !=''">
										<tr>
											<td>
												<strong> @@request_id@@: </strong>
												<xsl:value-of select="notification_data/request/external_request_id" />
												<!-- recordTitle.xsl -->
											</td>
										</tr>
									</xsl:if>
									<tr>
										<td>
											<strong>
												@@request_format@@: </strong>
											<xsl:value-of select="notification_data/request/format_display" />
											<!-- recordTitle.xsl -->
										</td>
									</tr>

									<xsl:choose>
										<xsl:when test="notification_data/request/max_fee !=''">
											<tr>
												<td>
													<strong>@@maximum_fee@@: </strong>
													<xsl:value-of select="notification_data/request/max_fee" />
												</td>

											</tr>
										</xsl:when>
									</xsl:choose>

									<xsl:choose>
										<xsl:when test="notification_data/level_of_service !=''">
											<tr>
												<td>
													<strong>
														@@level_of_service@@: </strong>
													<xsl:value-of select="notification_data/level_of_service" />
												</td>

											</tr>
										</xsl:when>
									</xsl:choose>


								</table>
								<br />
								<table role='presentation'>

									<tr>
										<td>
											@@signature@@</td>
									</tr>
									<tr>
										<td>
											<xsl:value-of select="notification_data/library/name" />
										</td>
									</tr>
									<xsl:if test="notification_data/library/address/line1 !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/line1" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/line2 !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/line2" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/line3 !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/line3" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/line4 !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/line4" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/line5 !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/line5" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/city !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/city" />
											</td>
										</tr>
									</xsl:if>
									<xsl:if test="notification_data/library/address/country !=''">
										<tr>
											<td>
												<xsl:value-of select="notification_data/library/address/country" />
											</td>
										</tr>

									</xsl:if>
								</table>
							</div>
						</div>
						<xsl:call-template name="lastFooter" />
						<!-- footer.xsl -->
					</body>
				</html>
			</xsl:template>
			<xsl:template name="author_initials">
				<xsl:param name="beistrich" select="'false'" />
		<xsl:if test="notification_data/request/display/autho_initials != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@author_initials@@: </strong>

		<xsl:value-of select="notification_data/request/display/autho_initials" />
		<xsl:call-template
						name="journal_title">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/autho_initials = ''">
					<xsl:call-template name="journal_title">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="journal_title">
				<xsl:param name="beistrich" select="'false'" />
		<xsl:if test="notification_data/request/display/journal_title != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@journal_title@@: </strong>
		<xsl:value-of select="notification_data/request/display/journal_title" />
		<xsl:call-template
						name="publication_date">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/journal_title = ''">
					<xsl:call-template name="publication_date">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="publication_date">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/publication_date != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@publication_date@@: </strong>
		<xsl:value-of select="notification_data/request/display/publication_date" />
		<xsl:call-template name="year">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/publication_date = ''">
					<xsl:call-template name="year">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="year">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/year != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@year@@: </strong>
		<xsl:value-of select="notification_data/request/display/year" />
		<xsl:call-template name="volume">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/year = ''">
					<xsl:call-template name="volume">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="volume">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/volume != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@volume@@: </strong>

		<xsl:value-of select="notification_data/request/display/volume" />
		<xsl:call-template name="edition">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/volume = ''">
					<xsl:call-template name="edition">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="edition">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/edition != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>
						@@edition@@: </strong>

		<xsl:value-of select="notification_data/request/display/edition" />
		<xsl:call-template name="issue">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/edition = ''">
					<xsl:call-template name="issue">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="issue">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/issue != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@issue@@: </strong>
		<xsl:value-of select="notification_data/request/display/issue" />
		<xsl:call-template name="start_page">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/issue = ''">
					<xsl:call-template name="start_page">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="start_page">
				<xsl:param name="beistrich" />
		<xsl:if
					test="notification_data/request/display/start_page != '' or notification_data/request/display/end_page != '' or notification_data/request/display/pages
		!=''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>
						@@pages@@: </strong>
		<xsl:value-of select="notification_data/request/display/start_page" />
		<xsl:text> - </xsl:text>
		<xsl:value-of select="notification_data/request/display/end_page" />
		<xsl:if
						test="notification_data/request/display/pages !=''">
						<xsl:text>(</xsl:text><xsl:value-of select="notification_data/request/display/pages" /><xsl:text>)</xsl:text>
					</xsl:if>
		<xsl:call-template name="isbn">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if
					test="not(notification_data/request/display/start_page != '' or notification_data/request/display/end_page != '' or notification_data/request/display/pages
		!='')">
					<xsl:call-template name="isbn">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="isbn">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/isbn != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>
						@@isbn@@: </strong>
		<xsl:value-of select="notification_data/request/display/isbn" />
		<xsl:call-template name="issn">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/isbn = ''">
					<xsl:call-template name="issn">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>

			<xsl:template name="issn">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/issn != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@issn@@: </strong>
		<xsl:value-of select="notification_data/request/display/issn" />
		<xsl:call-template name="publisher">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/issn = ''">
					<xsl:call-template name="publisher">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="publisher">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/publisher != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>
						@@publisher@@: </strong>
		<xsl:value-of select="notification_data/request/display/publisher" />
		<xsl:call-template name="place_of_publication">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/publisher = ''">
					<xsl:call-template name="place_of_publication">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="place_of_publication">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/place_of_publication != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@place_of_publication@@: </strong>
		<xsl:value-of select="notification_data/request/display/place_of_publication" />
		<xsl:call-template
						name="volume_bk">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/place_of_publication = ''">
					<xsl:call-template name="volume_bk">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="volume_bk">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/volume_bk != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>
						@@volume@@_bk: </strong>
		<xsl:value-of select="notification_data/request/display/volume_bk" />
		<xsl:call-template name="part">
						<xsl:with-param name="beistrich" select="'true'" />
					</xsl:call-template>
				</xsl:if>
		<xsl:if test="notification_data/request/display/volume_bk = ''">
					<xsl:call-template name="part">
						<xsl:with-param name="beistrich" select="$beistrich" />
					</xsl:call-template>
				</xsl:if>
			</xsl:template>
			<xsl:template name="part">
				<xsl:param name="beistrich" />
		<xsl:if test="notification_data/request/display/part != ''">
					<xsl:if test="$beistrich = 'true' ">
						<xsl:text>, </xsl:text>
					</xsl:if>
		<strong>@@part@@: </strong>
		<xsl:value-of select="notification_data/request/display/part" />
					<!--xsl:call-template
					name="start_page">
		<xsl:with-param name="beistrich" select="'true'"/>
		</xsl:call-template-->
				</xsl:if>
		<xsl:if
					test="notification_data/request/display/part = ''">
					<!--xsl:call-template
					name="start_page">
		<xsl:with-param name="beistrich" select="$beistrich" />
		</xsl:call-template-->
				</xsl:if>
			</xsl:template>

		</xsl:stylesheet>
	</xsl>
</letter>